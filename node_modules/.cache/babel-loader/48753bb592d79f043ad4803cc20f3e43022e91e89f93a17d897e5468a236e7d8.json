{"ast":null,"code":"import _objectSpread from\"C:/Users/Win10/Documents/GitHub/food_/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Win10/Documents/GitHub/food_/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from\"react\";import CartContext from'../../store/cart-context';import Modal from\"../UI/Modal\";import CartItem from'./CartItem';import CartUserForm from'./CartUserForm';import classes from'./Cart.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showOrderForm=_useState2[0],setShowOrderForm=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),orderPlaced=_useState4[0],setOrderPlaced=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),customerName=_useState6[0],setCustomerName=_useState6[1];var ctx=useContext(CartContext);var totalAmount=ctx.totalAmount.toFixed(2);var itemsLength=+ctx.items.length;var showFormHandler=function showFormHandler(){setShowOrderForm(true);};var formSubmitHandler=function formSubmitHandler(){//on form submission here\n};var showOrderBtn,content,emptyCart;showOrderBtn=itemsLength>0&&!showOrderForm;emptyCart=itemsLength<1&&!showOrderBtn;if(showOrderBtn){content=/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:showFormHandler,className:classes.button85,children:\"Order\"});}if(emptyCart&&!showOrderBtn){content=\"Cart is empty!ðŸ˜ž\";}var orderPlacedContent=/*#__PURE__*/_jsxs(\"p\",{className:\"fs-5 bg-primary-subtle text-center shadow p-1 m-1 mt-3 animate__animated animate__bounce\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-capitalize\",children:customerName+\"'s \"}),\"Order placed!\\uD83C\\uDF89 \"]});var showOrderPlacedHandler=function showOrderPlacedHandler(enteredName){setCustomerName(enteredName);setOrderPlaced(true);};return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-start position-relative\",children:/*#__PURE__*/_jsxs(Modal,{onHideCart:props.onHideCart,children:[/*#__PURE__*/_jsx(\"p\",{className:\"d-inline p-2 pe-3 fs-5 fw-semibold text-center border border-start-0 border-danger-subtle rounded-end bg-danger bg-opacity-10 border-3\",children:\"Your Cart\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(classes.cartDiv),children:ctx.items.map(function(item){return/*#__PURE__*/_jsx(CartItem,{name:item.name,price:item.price,amount:item.amount,onAdd:ctx.addItem.bind(null,_objectSpread(_objectSpread({},item),{},{amount:+1})),onRemove:ctx.removeItem.bind(null,item.id)},item.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-semibold fst-italic\",children:\"Total amount :\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"fs-4\",children:totalAmount})]}),content]}),/*#__PURE__*/_jsx(\"div\",{children:orderPlaced&&orderPlacedContent}),showOrderForm&&!emptyCart&&/*#__PURE__*/_jsx(CartUserForm,{onOrderPlaced:showOrderPlacedHandler,onSubmit:formSubmitHandler,onCancel:props.onHideCart})]})});};export default Cart;","map":{"version":3,"names":["useContext","useState","CartContext","Modal","CartItem","CartUserForm","classes","Cart","props","showOrderForm","setShowOrderForm","orderPlaced","setOrderPlaced","customerName","setCustomerName","ctx","totalAmount","toFixed","itemsLength","items","length","showFormHandler","formSubmitHandler","showOrderBtn","content","emptyCart","button85","orderPlacedContent","showOrderPlacedHandler","enteredName","onHideCart","cartDiv","map","item","name","price","amount","addItem","bind","removeItem","id"],"sources":["C:/Users/Win10/Documents/GitHub/food_/src/components/cart/Cart.js"],"sourcesContent":["import { useContext, useState } from \"react\";\r\nimport CartContext from '../../store/cart-context';\r\nimport Modal from \"../UI/Modal\";\r\nimport CartItem from './CartItem';\r\nimport CartUserForm from './CartUserForm';\r\nimport classes from './Cart.module.css';\r\n\r\nconst Cart = (props) => {\r\n    const [showOrderForm, setShowOrderForm] = useState(false);\r\n    const [orderPlaced, setOrderPlaced] = useState(false);\r\n    const [customerName, setCustomerName] = useState(null);\r\n    const ctx = useContext(CartContext)\r\n    const totalAmount = ctx.totalAmount.toFixed(2);\r\n    const itemsLength = +ctx.items.length;\r\n\r\n    const showFormHandler = () => {\r\n        setShowOrderForm(true)\r\n    };\r\n    const formSubmitHandler = () => {\r\n        //on form submission here\r\n    };\r\n\r\n    let showOrderBtn, content, emptyCart;\r\n    showOrderBtn = itemsLength > 0 && !showOrderForm;\r\n    emptyCart = itemsLength < 1 && !showOrderBtn;\r\n    if (showOrderBtn) {\r\n        content = <button type=\"button\" onClick={showFormHandler} className={classes.button85}>Order</button>;\r\n    }\r\n    if (emptyCart && !showOrderBtn) {\r\n        content = \"Cart is empty!ðŸ˜ž\";\r\n    }\r\n\r\n    const orderPlacedContent = <p className=\"fs-5 bg-primary-subtle text-center shadow p-1 m-1 mt-3 animate__animated animate__bounce\"><span className='text-capitalize'>{customerName + \"'s \"}</span>Order placed!ðŸŽ‰ </p>\r\n\r\n    const showOrderPlacedHandler = (enteredName) => {\r\n        setCustomerName(enteredName);\r\n        setOrderPlaced(true);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={`d-flex justify-content-center align-items-start position-relative`}>\r\n            <Modal onHideCart={props.onHideCart}>\r\n                <p className=\"d-inline p-2 pe-3 fs-5 fw-semibold text-center border border-start-0 border-danger-subtle rounded-end bg-danger bg-opacity-10 border-3\">Your Cart</p>\r\n\r\n                <div className={`${classes.cartDiv}`}>\r\n                    {ctx.items.map((item) =>\r\n                        <CartItem\r\n                            key={item.id}\r\n                            name={item.name}\r\n                            price={item.price}\r\n                            amount={item.amount}\r\n                            onAdd={ctx.addItem.bind(null, {\r\n                                ...item,\r\n                                amount: +1\r\n                            })}\r\n                            onRemove={ctx.removeItem.bind(null, item.id)}\r\n                        />\r\n                    )}\r\n                </div>\r\n                <div className=\"d-flex justify-content-between align-items-center mt-3\">\r\n                    <div><span className=\"fw-semibold fst-italic\">Total amount :</span> <span className=\"fs-4\">{totalAmount}</span></div>\r\n                    {content}\r\n                </div>\r\n                <div>\r\n                    {orderPlaced && orderPlacedContent}\r\n                </div>\r\n\r\n\r\n\r\n                {showOrderForm && !emptyCart && <CartUserForm onOrderPlaced={showOrderPlacedHandler} onSubmit={formSubmitHandler} onCancel={props.onHideCart} />}\r\n\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\nexport default Cart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}