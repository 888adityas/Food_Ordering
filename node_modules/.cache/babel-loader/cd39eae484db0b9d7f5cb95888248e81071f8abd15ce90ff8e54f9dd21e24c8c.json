{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Win10/Documents/GitHub/food_/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Win10/Documents/GitHub/food_/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Win10/Documents/GitHub/food_/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,useContext}from\"react\";import MealItem from'./MealItem';import useFilter from'../../store/use-filter';import CartContext from'../../store/cart-context';import Loading from'../../assets/loading.gif';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AvailableMeals=function AvailableMeals(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),fetchedMeals=_useState4[0],setFetchedMeals=_useState4[1];var ctx=useContext(CartContext);// you have to lowercase the value before sending to custom hook\nvar searchValue2=ctx.searchValue;var _useFilter=useFilter(fetchedMeals,searchValue2),filteredMeals=_useFilter.filteredArray;useEffect(function(){var fetchMeals=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,loadedMeals,key;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://food-ordering-app-be510-default-rtdb.asia-southeast1.firebasedatabase.app/meals.json');case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setIsLoading(false);loadedMeals=[];for(key in data){loadedMeals.push({id:key,name:data[key].name,price:data[key].price,description:data[key].description,imgUrl:data[key].imgUrl});}setFetchedMeals(loadedMeals);case 10:case\"end\":return _context.stop();}},_callee);}));return function fetchMeals(){return _ref.apply(this,arguments);};}();fetchMeals();},[]);var content;if(isLoading){content=/*#__PURE__*/_jsx(\"img\",{src:Loading,className:\"img-fluid\",alt:\"loading\"});};if(!isLoading){content=/*#__PURE__*/_jsx(\"h2\",{className:\"border-3 border-bottom border-danger pb-2\",children:\"All Meals\"});};if(filteredMeals.length===0&&!isLoading){content=/*#__PURE__*/_jsx(\"h2\",{className:\"\",children:\"No Meals Found !!\"});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center m-4 mb-2\",children:content}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mb-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center gap-4 mt-4 flex-wrap\",children:filteredMeals===null||filteredMeals===void 0?void 0:filteredMeals.map(function(meal){return/*#__PURE__*/_jsx(MealItem,{id:meal.id,name:meal.name,price:meal.price,description:meal.description,imgUrl:meal.imgUrl},meal.id);})})})]});};export default AvailableMeals;","map":{"version":3,"names":["useEffect","useState","useContext","MealItem","useFilter","CartContext","Loading","AvailableMeals","isLoading","setIsLoading","fetchedMeals","setFetchedMeals","ctx","searchValue2","searchValue","filteredMeals","filteredArray","fetchMeals","fetch","response","json","data","loadedMeals","key","push","id","name","price","description","imgUrl","content","length","map","meal"],"sources":["C:/Users/Win10/Documents/GitHub/food_/src/components/meals/AvailableMeals.js"],"sourcesContent":["import { useEffect, useState, useContext } from \"react\";\r\nimport MealItem from './MealItem';\r\nimport useFilter from '../../store/use-filter';\r\nimport CartContext from '../../store/cart-context';\r\nimport Loading from '../../assets/loading.gif';\r\n\r\n\r\nconst AvailableMeals = () => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [fetchedMeals, setFetchedMeals] = useState([]);\r\n    const ctx = useContext(CartContext);\r\n    // you have to lowercase the value before sending to custom hook\r\n    const searchValue2 = ctx.searchValue;\r\n    const { filteredArray: filteredMeals } = useFilter(fetchedMeals, searchValue2);\r\n\r\n    useEffect(() => {\r\n        const fetchMeals = async () => {\r\n            const response = await fetch('https://food-ordering-app-be510-default-rtdb.asia-southeast1.firebasedatabase.app/meals.json');\r\n            const data = await response.json();\r\n            setIsLoading(false)\r\n\r\n            let loadedMeals = [];\r\n            for (const key in data) {\r\n                loadedMeals.push({\r\n                    id: key,\r\n                    name: data[key].name,\r\n                    price: data[key].price,\r\n                    description: data[key].description,\r\n                    imgUrl: data[key].imgUrl\r\n                })\r\n            }\r\n            setFetchedMeals(loadedMeals);\r\n        };\r\n        fetchMeals()\r\n    }, []);\r\n\r\n    let content;\r\n    if (isLoading) {\r\n        content = <img src={Loading} className=\"img-fluid\" alt=\"loading\" />;\r\n    };\r\n    if (!isLoading) {\r\n        content = <h2 className=\"border-3 border-bottom border-danger pb-2\">All Meals</h2>\r\n    };\r\n    if (filteredMeals.length === 0 && !isLoading) {\r\n        content = <h2 className=\"\">No Meals Found !!</h2>\r\n    };\r\n\r\n\r\n    return (<>\r\n        <div className=\"d-flex justify-content-center m-4 mb-2\">{content}</div>\r\n        <div className=\"d-flex justify-content-center mb-5\">\r\n            <div className=\"d-flex justify-content-center align-items-center gap-4 mt-4 flex-wrap\">\r\n                {filteredMeals?.map((meal) =>\r\n                    <MealItem key={meal.id}\r\n                        id={meal.id}\r\n                        name={meal.name}\r\n                        price={meal.price}\r\n                        description={meal.description}\r\n                        imgUrl={meal.imgUrl} />\r\n                )}\r\n            </div>\r\n        </div>\r\n    </>)\r\n};\r\nexport default AvailableMeals;"],"mappings":"iYAAA,OAASA,SAAS,CAAEC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CACvD,MAAOC,SAAQ,KAAM,YAAY,CACjC,MAAOC,UAAS,KAAM,wBAAwB,CAC9C,MAAOC,YAAW,KAAM,0BAA0B,CAClD,MAAOC,QAAO,KAAM,0BAA0B,CAAC,6IAG/C,GAAMC,eAAc,CAAG,QAAjBA,eAAc,EAAS,CACzB,cAAkCN,QAAQ,CAAC,IAAI,CAAC,wCAAzCO,SAAS,eAAEC,YAAY,eAC9B,eAAwCR,QAAQ,CAAC,EAAE,CAAC,yCAA7CS,YAAY,eAAEC,eAAe,eACpC,GAAMC,IAAG,CAAGV,UAAU,CAACG,WAAW,CAAC,CACnC;AACA,GAAMQ,aAAY,CAAGD,GAAG,CAACE,WAAW,CACpC,eAAyCV,SAAS,CAACM,YAAY,CAAEG,YAAY,CAAC,CAAvDE,aAAa,YAA5BC,aAAa,CAErBhB,SAAS,CAAC,UAAM,CACZ,GAAMiB,WAAU,4FAAG,4LACQC,MAAK,CAAC,8FAA8F,CAAC,QAAtHC,QAAQ,qCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,eACVZ,YAAY,CAAC,KAAK,CAAC,CAEfa,WAAW,CAAG,EAAE,CACpB,IAAWC,GAAG,GAAIF,KAAI,CAAE,CACpBC,WAAW,CAACE,IAAI,CAAC,CACbC,EAAE,CAAEF,GAAG,CACPG,IAAI,CAAEL,IAAI,CAACE,GAAG,CAAC,CAACG,IAAI,CACpBC,KAAK,CAAEN,IAAI,CAACE,GAAG,CAAC,CAACI,KAAK,CACtBC,WAAW,CAAEP,IAAI,CAACE,GAAG,CAAC,CAACK,WAAW,CAClCC,MAAM,CAAER,IAAI,CAACE,GAAG,CAAC,CAACM,MACtB,CAAC,CAAC,CACN,CACAlB,eAAe,CAACW,WAAW,CAAC,CAAC,sDAChC,kBAhBKL,WAAU,0CAgBf,CACDA,UAAU,EAAE,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIa,QAAO,CACX,GAAItB,SAAS,CAAE,CACXsB,OAAO,cAAG,YAAK,GAAG,CAAExB,OAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,EAAG,CACvE,CAAC,CACD,GAAI,CAACE,SAAS,CAAE,CACZsB,OAAO,cAAG,WAAI,SAAS,CAAC,2CAA2C,UAAC,WAAS,EAAK,CACtF,CAAC,CACD,GAAIf,aAAa,CAACgB,MAAM,GAAK,CAAC,EAAI,CAACvB,SAAS,CAAE,CAC1CsB,OAAO,cAAG,WAAI,SAAS,CAAC,EAAE,UAAC,mBAAiB,EAAK,CACrD,CAAC,CAGD,mBAAQ,wCACJ,YAAK,SAAS,CAAC,wCAAwC,UAAEA,OAAO,EAAO,cACvE,YAAK,SAAS,CAAC,oCAAoC,uBAC/C,YAAK,SAAS,CAAC,uEAAuE,UACjFf,aAAa,SAAbA,aAAa,iBAAbA,aAAa,CAAEiB,GAAG,CAAC,SAACC,IAAI,qBACrB,KAAC,QAAQ,EACL,EAAE,CAAEA,IAAI,CAACR,EAAG,CACZ,IAAI,CAAEQ,IAAI,CAACP,IAAK,CAChB,KAAK,CAAEO,IAAI,CAACN,KAAM,CAClB,WAAW,CAAEM,IAAI,CAACL,WAAY,CAC9B,MAAM,CAAEK,IAAI,CAACJ,MAAO,EALTI,IAAI,CAACR,EAAE,CAKK,GAC9B,EACC,EACJ,GACP,CACP,CAAC,CACD,cAAelB,eAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}